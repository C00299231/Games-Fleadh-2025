00001000 Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 23/02/2025 21:42:38

00001000                             1      ORG    $1000
00001000                             2  
00001000                             3  START:
00001000                             4  
00001000  7211                       5      MOVE.L  #17,D1
00001002  705C                       6      MOVE.L  #92,D0
00001004  4E4F                       7      TRAP    #15
00001006                             8  
00001006  7032                       9      MOVE.L  #50,D0
00001008  4E4F                      10      TRAP    #15
0000100A  43F9 00001144             11      LEA     title,A1
00001010  7033                      12      MOVE.L  #51,D0
00001012  4E4F                      13      TRAP    #15
00001014                            14      
00001014  43F9 00001154             15      LEA     SPRITE_DATA,A1
0000101A  243C 000007B6             16      MOVE.L  #1974,D2
00001020  7035                      17      MOVE.L  #53,D0
00001022  4E4F                      18      TRAP #15
00001024                            19      
00001024                            20  LOOP:
00001024                            21    
00001024  303C 000B                 22      MOVE.W #11, D0         ; Clear the screen
00001028  323C FF00                 23      MOVE.W #$FF00,D1
0000102C  4E4F                      24      TRAP #15              ; Call graphics clear
0000102E                            25  
0000102E  47F9 00001154             26      LEA SPRITE_DATA, A3   ; Load address of sprite data
00001034  3639 00001142             27      MOVE.W  WIDTH,D3
0000103A  D679 0000113C             28      ADD.W   Z,D3
00001040  6100 00B8                 29      BSR     RESETTREE
00001044  33C3 00001138             30      MOVE.W  D3,X
0000104A  33FC 0190 0000113A        31      MOVE.W  #400,Y
00001052                            32      
00001052  7032                      33      MOVE.L  #50,D0
00001054  4E4F                      34      TRAP    #15
00001056                            35      
00001056  D7FC 00000033             36      ADDA.L      #$33,A3
0000105C                            37  DRAW_SPRITE:
0000105C  3A3C 0000                 38      MOVE.W #0, D5         ; Row counter
00001060                            39      
00001060                            40  ROW_LOOP:
00001060  3E3C 0000                 41      MOVE.W #0, D7         ; Column counter
00001064                            42  
00001064                            43  COL_LOOP:
00001064                            44  
00001064  BD86                      45      EOR.L       d6,d6               * clear the longword
00001066  1C1B                      46      MOVE.b  (a3)+,d6            * get the blue byte
00001068  4846                      47      SWAP        d6              * move it to the high word
0000106A  1C1B                      48      MOVE.b  (a3)+,d6            * get the green byte
0000106C  E15E                      49      ROL.w       #8,d6               * move it to the high byte
0000106E  1C1B                      50      MOVE.b  (a3)+,d6            * get the red byte
00001070                            51  
00001070                            52      
00001070  BCBC 00000000             53      CMP.L #0, D6           ; Test bit in the byte
00001076  6700 0038                 54      BEQ SKIP_PIXEL        ; If 0, skip drawing pixel
0000107A                            55  
0000107A  2206                      56      MOVE.L  D6, D1
0000107C  7050                      57      MOVE.L  #80,D0
0000107E  4E4F                      58      TRAP #15
00001080                            59      
00001080  2206                      60      MOVE.L  D6, D1
00001082  7051                      61      MOVE.L  #81,D0
00001084  4E4F                      62      TRAP #15
00001086                            63  
00001086  4281                      64      CLR.L   D1
00001088  3239 00001138             65      MOVE.W X, D1         ; X position
0000108E  3439 0000113A             66      MOVE.W Y, D2         ; Y position
00001094  3639 00001138             67      MOVE.W X, D3         ; X position
0000109A  D679 00001140             68      ADD.W  SCALER ,D3
000010A0  3839 0000113A             69      MOVE.W Y, D4         ; Y position
000010A6  9879 00001140             70      SUB.W  SCALER ,D4
000010AC                            71      
000010AC  7057                      72      MOVE.L  #87,D0
000010AE  4E4F                      73      TRAP #15              ; Plot pixel using TRAP #15
000010B0                            74  
000010B0                            75  SKIP_PIXEL:
000010B0  3439 00001140             76      MOVE.W SCALER,D2
000010B6  D579 00001138             77      ADD.W D2, X         ; Move to the next pixel column
000010BC  5247                      78      ADDQ.W #1, D7
000010BE  5845                      79      ADDQ.W #4, D5
000010C0  BE7C 0010                 80      CMP.W #ROWC, D7
000010C4  6D9E                      81      BLT COL_LOOP          ; Continue to draw row
000010C6                            82  
000010C6  3602                      83      MOVE.W  D2,D3
000010C8  C6FC 0010                 84      MULU.W  #ROWC,D3
000010CC  33C3 00001142             85      MOVE.W  D3,WIDTH
000010D2  4479 00001142             86      NEG.W   WIDTH
000010D8                            87      
000010D8  9779 00001138             88      SUB.W D3, X         ; Reset X position for the next row
000010DE  9579 0000113A             89      SUB.W D2, Y         ; Move down to the next row
000010E4                            90    
000010E4  BA7C 0960                 91      CMP.W #2400, D5
000010E8  6D00 FF76                 92      BLT ROW_LOOP          ; Continue to the next row
000010EC                            93  
000010EC                            94  END_LOOP:
000010EC  705E                      95      MOVE.L  #94,D0
000010EE  4E4F                      96      TRAP    #15
000010F0  5479 0000113C             97      ADDQ.W  #2,Z
000010F6  6000 FF08                 98      BRA START                    ; Infinite loop to keep the display on
000010FA                            99      
000010FA                           100  RESETTREE:
000010FA  B67C 0280                101      CMP.W   #640,D3
000010FE  6C00 0004                102      BGE     RESETZ
00001102  4E75                     103      RTS
00001104                           104  RESETZ:
00001104  33FC 0000 0000113C       105      MOVE.W  #0, Z
0000110C  5279 0000113E            106      ADD.W   #1, I
00001112  3439 0000113E            107      MOVE.W  I,D2
00001118  6100 0004                108      BSR     CHECKI
0000111C  4E75                     109      RTS
0000111E                           110  CHECKI:
0000111E  B47C 0002                111      CMP     #2,D2
00001122  6C00 0004                112      BGE     ADDSCALER
00001126  4E75                     113      RTS    
00001128                           114  ADDSCALER:
00001128  3839 00001140            115      MOVE.W  SCALER,D4
0000112E  5244                     116      ADD.W   #1,D4
00001130  33C4 00001140            117      MOVE.W  D4,SCALER
00001136  4E75                     118      RTS
00001138                           119      
00001138= FFB0                     120  X   DC.W    -80
0000113A= 0190                     121  Y   DC.W    400
0000113C= 0000                     122  Z   DC.W    0
0000113E= 0000                     123  I   DC.W    0
00001140  =00000010                124  ROWC    EQU    16
00001140  =00000008                125  COLC    EQU    8
00001140= 0005                     126  SCALER DC.W  5
00001142= FFB0                     127  WIDTH   DC.W    $FFB0
00001144                           128  
00001144                           129  title
00001144= 74 72 65 65 32 2E ...    130      dc.b    'tree2.bmp',0
0000114E                           131  list
0000114E= 2A 2E 62 6D 70 00        132      dc.b    '*.bmp',0               * file type list
00001154                           133      ds.w    0                   * ensure even
00001154                           134  
00001154                           135  
00001154                           136  SPRITE_DATA:
00001154                           137  
00001154                           138  
00001154                           139  
00001154                           140      END START

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
ADDSCALER           1128
CHECKI              111E
COLC                8
COL_LOOP            1064
DRAW_SPRITE         105C
END_LOOP            10EC
I                   113E
LIST                114E
LOOP                1024
RESETTREE           10FA
RESETZ              1104
ROWC                10
ROW_LOOP            1060
SCALER              1140
SKIP_PIXEL          10B0
SPRITE_DATA         1154
START               1000
TITLE               1144
WIDTH               1142
X                   1138
Y                   113A
Z                   113C
